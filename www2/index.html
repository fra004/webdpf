<!DOCTYPE html>
<!-- CSP support mode (required for Windows Universal apps): https://docs.angularjs.org/api/ng/directive/ngCsp -->
<html lang="en" ng-app="app" ng-csp>
<head>
    <meta charset="utf-8" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="mobile-web-app-capable" content="yes" />
    <!-- JS dependencies (order matters!) -->
    <script src="scripts/platformOverrides.js"></script>
    <script src="lib/angular/angular.js"></script>
    <script src="lib/signalr/jquery-2.1.4.min.js"></script>
    <!--<script src="lib/signalr/jquery.signalR-2.2.0.min.js"></script>
    <script src="lib/signalr/angular-signalr-hub.min.js"></script>-->
    <script src="lib/onsen/js/onsenui.js"></script>
    <!--Reference the autogenerated SignalR hub script. -->
    <!--<script src="http://pcadvtmica071.ihelse.net/signalr/hubs"></script>-->
    <!--<script src="lib/signalr/myHub.js"></script>-->
    <!-- CSS dependencies -->
    <link rel="stylesheet" href="lib/onsen/css/onsenui.css" />
    <link rel="stylesheet" href="lib/onsen/css/onsen-css-components-sunshine-theme.css" />
    <link rel="stylesheet" href="styles/custom.css" />
    <!-- CSP support mode (required for Windows Universal apps) -->
    <link rel="stylesheet" href="lib/angular/angular-csp.css" />

    <!--  -->
    <script src="js/controller/app.js"></script>
    <script src="js/controller/Patient.js"></script>
    <script src="js/controller/Blood.js"></script>
    <script src="js/controller/Transfusion.js"></script>

    <script src="js/service/SignalRService.js"></script>
    <script src="js/service/PatientService.js"></script>
    <script src="js/service/DoctorService.js"></script>
    <script src="js/service/SharedPropService.js"></script>
    <script src="js/service/ProduktService.js"></script>
    <script src="js/service/TransDokService.js"></script>
    <script src="js/service/TransReaktService.js"></script>

    <script src="js/directive/clockDirective.js"></script>
    <script src="js/directive/dateInputDirective.js"></script>
    <script src="js/directive/timeInputDirective.js"></script>

    <title>BlodApp</title>
</head>
<body ng-controller="AppController">
    <script src="scripts/index.js"></script>
    <ons-navigator var="navi">
        <ons-page id="login">
            <div ng-include="'top.html'"></div>
            <div id="scanner" tabindex="0">
                <div class="center-page" ng-show="root.state === 0">
                    <h1 class="center-text">Klar til å scanne ansattkort...</h1>
                </div>
                <div class="center-page" ng-show="root.state === 2">
                    <h1 class="center-text">Klar til å scanne pasientarmbånd...</h1>
                </div>
                <div class="login-form" ng-show="root.state === 1" ng-controller="LoginController">
                    <on-row>
                        <h1 style="text-align:center;">Velkommen {{nurse.fullName}}</h1>
                        <h2 style="text-align:center;">Tast inn din pinkode</h2>
                    </on-row>
                    <ons-row ng-repeat="i in [0,3,6]">
                        <ons-col ng-repeat="j in [1,2,3]" ng-class="j===1 ? 'numright' : (j===2 ? 'numcenter' : 'numleft')">
                            <span class="fa-stack fa-lg fa-2x" ng-click="addNumber(i+j)">
                                <i class="fa fa-circle-thin fa-stack-2x"></i>
                                <i class="fa fa-stack-1x loginButton">{{i+j}}</i>
                            </span>
                        </ons-col>
                    </ons-row>
                    <ons-row>
                        <ons-col class="numright">
                        </ons-col>
                        <ons-col class="numcenter">
                            <span class="fa-stack fa-lg fa-2x" ng-click="addNumber(0)">
                                <i class="fa fa-circle-thin fa-stack-2x"></i>
                                <i class="fa fa-stack-1x loginButton">0</i>
                            </span>
                        </ons-col>
                        <ons-col class="numleft">
                            <span class="fa-stack fa-lg fa-2x" ng-click="removeNumber()">
                                <i class="fa fa-circle-thin fa-stack-2x"></i>
                                <i class="fa fa-arrow-left fa-stack-1x loginButton"></i>
                            </span>
                        </ons-col>
                    </ons-row>
                </div>
                <div>
                    <ons-row>
                        <input type="password" class="text-input--underbar"
                               placeholder="" ng-model="pincodeString"
                               disabled
                               style="text-align: center;width: 100%;font-size: 25px;opacity: 1;">
                    </ons-row>
                </div>
            </div>
            <div id="ButtonRow" style=" vertical-align: bottom; float: none; position:absolute;  width:100% ;bottom:0;">
                <ons-row>
                    <button class="button button--large bloodbutton" ng-show="root.state >= 3" ng-click="logOutPatient();">
                        <ons-row>
                            <ons-col>
                                Avbryt
                            </ons-col>
                            <ons-col width="60px">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle-thin  fa-stack-2x"></i>
                                    <i class="fa fa-location-arrow fa-rotate-45  fa-stack-1x"></i>
                                </span>
                            </ons-col>
                        </ons-row>
                    </button>
                </ons-row>
                <ons-row>
                    <!-- TODO Traumepakke should be handle in another html file -->
                    <button class="button button--large bloodbutton" ng-show="root.state <= 4" ng-click="$scope.navi.popPage('patient.html');">
                        <ons-row>
                            <ons-col>
                                Bestill Traumepakke
                            </ons-col>
                            <ons-col width="60px">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle-thin  fa-stack-2x"></i>
                                    <i class="fa fa-location-arrow fa-rotate-45  fa-stack-1x"></i>
                                </span>
                            </ons-col>
                        </ons-row>
                    </button>
                </ons-row>
                <div ng-include="'bottom.html'"></div>
            </div>
        </ons-page>
    </ons-navigator>
</body>
</html>